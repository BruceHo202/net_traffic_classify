# 预处理

首先，通过Pcapreader 读取pcap文件，最开始我们是将数据存在dat中，但是由于信息过多且读取时间过程改为读取处理后的csv文件，只保留了发送时间，协议，包长和地址等信息，文件就小了很多，并且读取速度快了很多。

# 生成特征矩阵

读取处理后的文件，以10s为一个间隔将文件切片，给每个切片生成特征。本次实验中，我们一共给出了53个特征，在下表中列出：

| 1~5   | TCP、UDP、ICMP、ARP、DNS比例                                 |
| ----- | ------------------------------------------------------------ |
| 6     | 包个数                                                       |
| 7~9   | 平均、最大、最小包长度                                       |
| 10~43 | 每种协议是否存在                                             |
| 44~45 | 最短时间间隔，最长时间间隔                                   |
| 46~53 | 是否可能是某一类：这一特征中，通过判断是否存在某一特殊的协议，或是存在某一协议的情况下，比例和时间间隔的情况。 |

# 训练数据和测试数据

通过调查论文和反复试验，我们发现决策树和SVM的准确率最高。

在SVM中，我们通过最简单的SVM跑出来96%的准确率。

在决策树中，我们首先通过决策树算法，然后我们以决策树为基础，通过adaboost集成学习，获得了95%的准确率。这么做的原因是在我们的53个特征中，许多特征的分类效果并不好，为了实现特征选择，我们要使用adaboost算法。